// Generated by CoffeeScript 1.9.3
(function() {
  $(document).ready(function() {
    var this_graph;
    return this_graph = Morris.Bar({
      element: 'measure-bar-graph',
      data: $('#measure-bar-graph').data('chartdata_for_measure'),
      xkey: 'created_at',
      ykeys: ['data'],
      labels: ['data'],
      pointSize: 5,
      hideHover: 'auto',
      resize: true
    }, $(".dropdown-menu li a").click(function() {
      if (this.id === 'sevendays') {
        return $.ajax({
          url: window.location.href + '/sevendays',
          data: {
            format: 'json'
          },
          datatype: 'json',
          cache: false,
          type: 'GET',
          success: function(response) {
            return this_graph.setData(response);
          }
        });
      } else if (this.id === 'thirtydays') {
        return $.ajax({
          url: window.location.href + '/thirtydays',
          data: {
            format: 'json'
          },
          datatype: 'json',
          cache: false,
          type: 'GET',
          success: function(response) {
            return this_graph.setData(response);
          }
        });
      } else if (this.id === 'sixmonths') {
        return $.ajax({
          url: window.location.href + '/sixmonths',
          data: {
            format: 'json'
          },
          datatype: 'json',
          cache: false,
          type: 'GET',
          success: function(response) {}
        }, this_graph.setData(response));
      } else if (this.id === 'c_year') {
        return $.ajax({
          url: window.location.href + '/c_year',
          data: {
            format: 'json'
          },
          datatype: 'json',
          cache: false,
          type: 'GET',
          success: function(response) {
            return this_graph.setData(response);
          }
        });
      } else if (this.id === 'l_year') {
        return $.ajax({
          url: window.location.href + '/l_year',
          data: {
            format: 'json'
          },
          datatype: 'json',
          cache: false,
          type: 'GET',
          success: function(response) {
            return this_graph.setData(response);
          }
        });
      }
    }));
  });

}).call(this);
